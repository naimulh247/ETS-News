{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/naimulh/Desktop/npm projects/capitalOne/ETS-News/client/src/Components/Sports/Sports.js\";\nimport React, { Component } from 'react';\nimport { API_URL, API_KEY, API_TP_SPORT, API_TP_TECH } from '../../config';\nimport SearchBar from '../../Elements/SearchBar/SeachBar';\nimport SportsGrid from '../../Elements/SportsGrid/SportsGrid';\nimport LoadMoreBtn from '../../Elements/LoadMoreBtn/LoadMoreBtn';\n\nclass Sports extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      sportsArticles: [],\n      loading: false,\n      page: 1,\n      totalResult: 0,\n      currentResult: 0,\n      searchTerm: ''\n    };\n\n    this.fetchSports = endpoint => {\n      fetch(endpoint).then(result => result.json()).then(result => {\n        let pageCount = this.state.page + 1;\n        let resultCount = this.state.currentResult + 20;\n        console.log('pageCount: ', pageCount, 'resutlCount: ', resultCount, 'totalresults: ', result.totalResults);\n        this.setState({\n          sportsArticles: [...this.state.sportsArticles, ...result.articles],\n          totalResult: result.totalResults,\n          currentResult: resultCount,\n          page: pageCount,\n          loading: false\n        });\n      }).catch(err => console.log('Fectch Error: ', err));\n    };\n\n    this.searchItem = searchTerm => {\n      console.log('Search Term: ', searchTerm);\n      let endpoint = '';\n      this.setState({\n        sportsArticles: [],\n        page: 1,\n        totalResult: 0,\n        currentResult: 0,\n        searchTerm,\n        loading: false\n      });\n\n      if (searchTerm === '') {\n        endpoint = `${API_URL}${API_TP_SPORT}&apiKey=${API_KEY}`;\n      } else {\n        endpoint = `${API_URL}${API_TP_SPORT}&apiKey=${API_KEY}&q=${searchTerm}`;\n      }\n\n      this.fetchSports(endpoint);\n    };\n\n    this.loadMoreItems = () => {\n      let endpoint = '';\n      endpoint = `${API_URL}${API_TP_SPORT}&apiKey=${API_KEY}&page=${this.state.page}`;\n      this.fetchSports(endpoint);\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      loading: true\n    });\n    const endpoint = `${API_URL}${API_TP_SPORT}&apikey=${API_KEY}`;\n    this.fetchSports(endpoint);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n        callback: this.searchItem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-deck\",\n        children: [this.state.loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"loading\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"loading__letter\",\n              children: \"L\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"loading__letter\",\n              children: \"o\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"loading__letter\",\n              children: \"a\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"loading__letter\",\n              children: \"d\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"loading__letter\",\n              children: \"i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"loading__letter\",\n              children: \"n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"loading__letter\",\n              children: \"g\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"loading__letter\",\n              children: \".\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"loading__letter\",\n              children: \".\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"loading__letter\",\n              children: \".\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }, this) : null, this.state.sportsArticles.map((elements, i) => {\n          return /*#__PURE__*/_jsxDEV(SportsGrid, {\n            title: elements.title,\n            author: elements.author ? elements.author : \"Unknown Author\",\n            description: elements.description ? elements.description : \"Unkown Description\",\n            date: elements.publishedAt,\n            url: elements.url,\n            image: elements.urlToImage,\n            source: elements.source.name ? elements.source.name : \"unkown\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 28\n          }, this);\n        }), this.state.currentResult <= this.state.totalResult && !this.state.loading ? /*#__PURE__*/_jsxDEV(LoadMoreBtn, {\n          text: \"Load More\",\n          onClick: this.loadMoreItems\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default Sports;","map":{"version":3,"sources":["/Users/naimulh/Desktop/npm projects/capitalOne/ETS-News/client/src/Components/Sports/Sports.js"],"names":["React","Component","API_URL","API_KEY","API_TP_SPORT","API_TP_TECH","SearchBar","SportsGrid","LoadMoreBtn","Sports","state","sportsArticles","loading","page","totalResult","currentResult","searchTerm","fetchSports","endpoint","fetch","then","result","json","pageCount","resultCount","console","log","totalResults","setState","articles","catch","err","searchItem","loadMoreItems","componentDidMount","render","map","elements","i","title","author","description","publishedAt","url","urlToImage","source","name"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {API_URL, API_KEY, API_TP_SPORT, API_TP_TECH} from '../../config';\nimport SearchBar from '../../Elements/SearchBar/SeachBar'\nimport SportsGrid from '../../Elements/SportsGrid/SportsGrid'\nimport LoadMoreBtn from '../../Elements/LoadMoreBtn/LoadMoreBtn'\n\n\nclass Sports extends Component{\n\n    state = {\n        sportsArticles: [],\n        loading: false,\n        page:1,\n        totalResult: 0,\n        currentResult: 0,\n        searchTerm: ''\n    }\n\n    componentDidMount(){\n        this.setState({loading: true});\n\n        const endpoint = `${API_URL}${API_TP_SPORT}&apikey=${API_KEY}`;\n        this.fetchSports(endpoint)\n    }\n\n    fetchSports = (endpoint) =>{\n        fetch(endpoint)\n        .then(result => result.json())\n        .then(result =>{\n            let pageCount = this.state.page +1;\n            let resultCount = this.state.currentResult +20;\n            console.log('pageCount: ', pageCount, 'resutlCount: ', resultCount, 'totalresults: ',result.totalResults)\n            this.setState({\n                sportsArticles:[...this.state.sportsArticles, ...result.articles],\n                totalResult: result.totalResults,\n                currentResult: resultCount,\n                page: pageCount,\n                loading: false\n            });\n\n        })\n        .catch(err => console.log('Fectch Error: ', err))\n    }\n\n    searchItem = (searchTerm) =>{\n        console.log('Search Term: ', searchTerm)\n        let endpoint ='';\n\n        this.setState({\n            sportsArticles:[],\n            page:1,\n            totalResult:0,\n            currentResult:0,\n            searchTerm,\n            loading:false\n        })\n\n        if(searchTerm ===''){\n            endpoint = `${API_URL}${API_TP_SPORT}&apiKey=${API_KEY}`\n        }\n        else{\n            endpoint = `${API_URL}${API_TP_SPORT}&apiKey=${API_KEY}&q=${searchTerm}`\n        }\n\n        this.fetchSports(endpoint);\n    }\n\n    loadMoreItems = () =>{\n        let endpoint = '';\n\n        endpoint = `${API_URL}${API_TP_SPORT}&apiKey=${API_KEY}&page=${this.state.page}`;\n\n        this.fetchSports(endpoint);\n    }\n\n\n    render(){\n\n\n        return(\n            <>\n            <SearchBar callback={this.searchItem}/>\n\n            <div className=\"card-deck\">\n                {this.state.loading ? \n                <div class=\"container\">\n                <div class=\"loading\">\n                  <div class=\"loading__letter\">L</div>\n                  <div class=\"loading__letter\">o</div>\n                  <div class=\"loading__letter\">a</div>\n                  <div class=\"loading__letter\">d</div>\n                  <div class=\"loading__letter\">i</div>\n                  <div class=\"loading__letter\">n</div>\n                  <div class=\"loading__letter\">g</div>\n                  <div class=\"loading__letter\">.</div>\n                  <div class=\"loading__letter\">.</div>\n                  <div class=\"loading__letter\">.</div>\n                </div>\n              </div>\n               : null}\n                {this.state.sportsArticles.map((elements, i)=>{\n                    return <SportsGrid \n                    title={elements.title} author={elements.author? elements.author : \"Unknown Author\"} description={elements.description ? elements.description : \"Unkown Description\"}\n                     date={elements.publishedAt} url={elements.url} image={elements.urlToImage} source = {elements.source.name ? elements.source.name : \"unkown\"}\n                    />\n                })}\n                {(this.state.currentResult <= this.state.totalResult && !this.state.loading) ?\n                    <LoadMoreBtn text= \"Load More\" onClick = {this.loadMoreItems}/> \n                    : null\n                }\n            </div>\n        </>\n        )\n    }\n}\n\nexport default Sports"]},"metadata":{},"sourceType":"module"}