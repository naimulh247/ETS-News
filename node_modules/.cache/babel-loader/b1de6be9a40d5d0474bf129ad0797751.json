{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/naimulh/Desktop/npm projects/capitalOne/ETS-News/client/src/Components/Technology/Technology.js\";\nimport React, { Component } from 'react';\nimport { API_URL, API_KEY, API_TP_ENT, API_TP_SPORT, API_TP_TECH } from '../../config';\nimport LoadMoreBtn from '../../Elements/LoadMoreBtn/LoadMoreBtn';\nimport SearchBar from '../../Elements/SearchBar/SeachBar';\nimport TechnologyGrid from '../../Elements/TechnologyGrid/TechnologyGrid'; // import LoadMoreBtn  from '../../Elements/LoadMoreBtn/LoadMoreBtn'\n\nclass Technology extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      techArticles: [],\n      currentResult: 0,\n      loading: false,\n      totalResult: 0,\n      page: 1,\n      searchTerm: ''\n    };\n\n    this.loadMoreItems = () => {\n      let endpoint = ''; // if(searchTerm === ''){\n      // {this.state.currentResult + 20}\n\n      endpoint = `${API_URL}${API_TP_TECH}&apiKey=${API_KEY}&page=${this.state.page}`;\n      console.log(\"page count: \", this.state.page, \"currentResult: \", this.state.currentResult); // }\n\n      this.fetchTech(endpoint);\n    };\n\n    this.fetchTech = endpoint => {\n      fetch(endpoint).then(result => result.json()).then(result => {\n        // console.log(result.articles);\n        // console.log(result.totalResults);\n        console.log(result.articles[0].author);\n        console.log();\n        let pageCount = this.state.page + 1;\n        let resultCount = this.state.currentResult + 20;\n        this.setState({\n          techArticles: [...this.state.techArticles, ...result.articles],\n          totalResult: result.totalResults,\n          currentResult: resultCount,\n          page: pageCount,\n          loading: false\n        }); // console.log(this.state.articles[0].author)\n      }).catch(error => console.log('Error: ', error));\n    };\n\n    this.searchItem = searchTerm => {\n      console.log(\"SearchTerm: \", searchTerm);\n      let endpoint = '';\n      this.setState({\n        techArticles: [],\n        loading: true,\n        page: 1,\n        totalResult: 0,\n        currentResult: 0,\n        searchTerm\n      });\n\n      if (searchTerm === '') {\n        endpoint = `${API_URL}${API_TP_TECH}&apiKey=${API_KEY}`;\n      } else {\n        endpoint = `${API_URL}${API_TP_TECH}&apiKey=${API_KEY}&q=${searchTerm}`;\n      }\n\n      this.fetchTech(endpoint);\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      loading: true\n    });\n    const endpoint = `${API_URL}${API_TP_TECH}&apiKey=${API_KEY}`;\n    this.fetchTech(endpoint);\n  }\n\n  render() {\n    // console.log(this.state.techArticles[0].title)\n    return (\n      /*#__PURE__*/\n      // <h1>{this.state.techArticles.title}</h1>\n      _jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n          callback: this.searchItem\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-deck\",\n          children: [this.state.loading ? /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Loading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 39\n          }, this) : null, this.state.techArticles.map((elements, i) => {\n            return /*#__PURE__*/_jsxDEV(TechnologyGrid, {\n              title: elements.title,\n              author: elements.author ? elements.author : \"Unknown Author\",\n              description: elements.description ? elements.description : \"Unkown Description\",\n              date: elements.publishedAt,\n              url: elements.url,\n              image: elements.urlToImage,\n              source: elements.source.name ? elements.source.name : \"unkown\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 28\n            }, this);\n          }), this.state.currentResult <= this.state.totalResult && !this.state.loading ? /*#__PURE__*/_jsxDEV(LoadMoreBtn, {\n            text: \"Load More\",\n            onClick: this.loadMoreItems\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 21\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    );\n  }\n\n}\n\nexport default Technology;","map":{"version":3,"sources":["/Users/naimulh/Desktop/npm projects/capitalOne/ETS-News/client/src/Components/Technology/Technology.js"],"names":["React","Component","API_URL","API_KEY","API_TP_ENT","API_TP_SPORT","API_TP_TECH","LoadMoreBtn","SearchBar","TechnologyGrid","Technology","state","techArticles","currentResult","loading","totalResult","page","searchTerm","loadMoreItems","endpoint","console","log","fetchTech","fetch","then","result","json","articles","author","pageCount","resultCount","setState","totalResults","catch","error","searchItem","componentDidMount","render","map","elements","i","title","description","publishedAt","url","urlToImage","source","name"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {API_URL, API_KEY, API_TP_ENT, API_TP_SPORT, API_TP_TECH} from '../../config';\nimport LoadMoreBtn from '../../Elements/LoadMoreBtn/LoadMoreBtn';\nimport SearchBar from '../../Elements/SearchBar/SeachBar'\nimport TechnologyGrid from '../../Elements/TechnologyGrid/TechnologyGrid'\n// import LoadMoreBtn  from '../../Elements/LoadMoreBtn/LoadMoreBtn'\n\n\nclass Technology extends Component{\n\n    state = {\n        techArticles:[],\n        currentResult:0,\n        loading: false,\n        totalResult: 0,\n        page: 1,\n        searchTerm: ''\n\n    }\n\n    componentDidMount(){\n        this.setState({loading: true});\n\n        const endpoint = `${API_URL}${API_TP_TECH}&apiKey=${API_KEY}`;\n        this.fetchTech(endpoint)\n\n    }\n\n    loadMoreItems = () =>{\n        let endpoint =''\n\n        // if(searchTerm === ''){\n            // {this.state.currentResult + 20}\n            endpoint = `${API_URL}${API_TP_TECH}&apiKey=${API_KEY}&page=${this.state.page}`;\n            console.log(\"page count: \", this.state.page, \"currentResult: \", this.state.currentResult)\n        // }\n\n        this.fetchTech(endpoint)\n    }\n    fetchTech = (endpoint) =>{\n        fetch(endpoint)\n        .then(result=>result.json())\n        .then(result =>{\n    \n            // console.log(result.articles);\n            // console.log(result.totalResults);\n            console.log(result.articles[0].author);\n            console.log()\n            let pageCount = this.state.page + 1;\n            let resultCount  = this.state.currentResult +20;\n            this.setState({\n                techArticles: [...this.state.techArticles, ...result.articles],\n                totalResult: result.totalResults,\n                currentResult: resultCount,\n                page: pageCount,\n                loading: false\n            });\n            \n            // console.log(this.state.articles[0].author)\n        })\n        .catch(error=>console.log('Error: ', error));\n    }\n\n    searchItem = (searchTerm) =>{\n        console.log(\"SearchTerm: \",searchTerm)\n        let endpoint = ''\n\n        this.setState({\n            techArticles:[],\n            loading: true,\n            page:1,\n            totalResult: 0,\n            currentResult:0,\n            searchTerm\n        })\n        if(searchTerm ===''){\n            endpoint = `${API_URL}${API_TP_TECH}&apiKey=${API_KEY}`;\n        }\n        else{\n            endpoint = `${API_URL}${API_TP_TECH}&apiKey=${API_KEY}&q=${searchTerm}`;\n        }\n        this.fetchTech(endpoint)\n    }\n\n\n\n\n    render(){\n        // console.log(this.state.techArticles[0].title)\n\n        return(\n        // <h1>{this.state.techArticles.title}</h1>\n        <>\n            <SearchBar callback={this.searchItem}/>\n\n            <div className=\"card-deck\">\n                {this.state.loading ? <h1>Loading...</h1> : null}\n                {this.state.techArticles.map((elements, i)=>{\n                    return <TechnologyGrid \n                    title={elements.title} author={elements.author? elements.author : \"Unknown Author\"} description={elements.description ? elements.description : \"Unkown Description\"}\n                     date={elements.publishedAt} url={elements.url} image={elements.urlToImage} source = {elements.source.name ? elements.source.name : \"unkown\"}\n                    />\n                })}\n                {(this.state.currentResult <= this.state.totalResult && !this.state.loading) ?\n                    <LoadMoreBtn text= \"Load More\" onClick = {this.loadMoreItems}/> \n                    : null\n                }\n            </div>\n            </>\n        )\n    }\n}\n\nexport default Technology"]},"metadata":{},"sourceType":"module"}